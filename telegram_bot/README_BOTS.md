# Клиентский и админский боты

## Два бота

1. **Клиентский бот** (воркеры) — `mpclient` или `mpbot`
2. **Админский бот** — `mpadmin`

Создайте два бота через @BotFather и добавьте токены в `.env`:

```
CLIENT_BOT_TOKEN=...   # токен для воркеров
ADMIN_BOT_TOKEN=...    # токен для админа (отвечает только ADMIN_CHAT_ID)
ADMIN_CHAT_ID=691976114
```

## Запуск

В двух терминалах:

```bash
# Терминал 1: клиентский бот (воркеры)
mpclient

# Терминал 2: админский бот
mpadmin
```

## Логика

### Воркер (клиентский бот)
- `/start` → заявка отправлена администратору, статус «не подтверждён»
- Админ одобряет или отклоняет (кнопки на уведомлении)
- Отклонённый = заблокирован навсегда (бот не отвечает)
- Одобренный: «Начать смену» / «Закрыть смену», «Товары сегодня»

### Админ (админский бот)
- Отвечает только `ADMIN_CHAT_ID`
- `/start` → панель: ожидающие, воркеры, заблокированные
- Всё через кнопки

### Распределение товаров (fetch_listings)
- Round-robin между воркерами на смене
- 1 товар → 1 воркеру, 2-й → 2-му, 3-й → 3-му, 4-й → снова 1-му
- Если нет воркеров на смене — ничего не отправляется
